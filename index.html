<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>RAZMADZE 41</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="/images/logo3.png">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Font awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
    crossorigin="anonymous" />
  <script>
    $(function () {
      $("#Nav").load('NavBar/NavBar.html');
    });
    $(function () {
      $("#Footer").load('Footer/Footer.html');
    });
  </script>
</head>

<body>

  <div id="Nav"></div>
  <div class="button-container">
    <a href="https://forms.gle/vXsm2PaauNbzh4Pc9" class="registration-button">
      <div class="button-content">
        <div class="button-text1">საკვირაო&nbsp;სკოლა</div>
        <img src="/images/registration_form.png" alt="Registration" class="registration-icon">
      </div>
    </a>

    <a href="https://forms.gle/vXsm2PaauNbzh4Pc9" class="registration-button" style="margin-top: 750px">
      <div class="button-content">
        <div class="button-text2">რეგისტრაცია</div>
      </div>
    </a>
    <div id="datetime-container">
      <div id="calendar">
        <div id="calendar-title"></div>
        <div class="calendar-table" id="calendar-table"></div>
      </div>      
    </div>



    <a href="/Projects_and_memoranda/sakvirao_skola.html" class="button_main">საკვირაო სკოლა</a>
    <a href="/Projects_and_memoranda/sagamos_skola.html" class="button_main">საღამოს სკოლა</a>
    <a href="#" class="button_main">აბიტურიენტების სკოლა</a>
  </div>

  <div class="box">
    <div class="about">
      <div class="content1">
        <div class="title">სიახლეების ზოლი</div><br><br>
        <div class="news-container">
          <a href="#" class="news-box">
            <img alt="News 1" class="news-image">
            <div class="news-content">
              <h3 class="news-header"></h3>
              <p class="news-date"></p>
              <p class="news-description"></p>
            </div>
          </a>
          <a href="#" class="news-box">
            <img alt="News 2" class="news-image">
            <div class="news-content">
              <h3 class="news-header"></h3>
              <p class="news-date"></p>
              <p class="news-description"></p>
            </div>
          </a>
          <a href="#" class="news-box">
            <img alt="News 3" class="news-image">
            <div class="news-content">
              <h3 class="news-header"></h3>
              <p class="news-date"></p>
              <p class="news-description"></p>
            </div>
          </a>
        </div>
        <button id="prev-page">წინა გვერდი</button>
        <button id="next-page">შემდეგი გვერდი</button>
      </div>
    </div>
  </div>
  <hr>
  <div id="Footer"></div>
  <script src="./newsData.js"></script>
  <script>
    const datetimeContainer = document.getElementById('datetime-container');
    const calendarElement = document.getElementById('calendar');
    const containerTop = 500; // The minimum top position where it should disappear

    function updateCalendar() {
  const now = new Date();
  const year = now.getFullYear();
  const month = now.getMonth();
  const day = now.getDate();
  const daysInMonth = new Date(year, month + 1, 0).getDate();
  const firstDayOfWeek = new Date(year, month, 1).getDay(); // 0 is Sunday, 1 is Monday, etc.

  const calendarTitle = document.getElementById('calendar-title');
  const calendarTable = document.getElementById('calendar-table');

  const georgianMonths = [
    'იანვარი', 'თებერვალი', 'მარტი', 'აპრილი', 'მაისი', 'ივნისი',
    'ივლისი', 'აგვისტო', 'სექტემბერი', 'ოქტომბერი', 'ნოემბერი', 'დეკემბერი'
  ];

  calendarTitle.textContent = `${georgianMonths[month]}`;

  calendarTable.innerHTML = '';

  let dayCount = 1;
  for (let i = 0; i < 42; i++) {
    const calendarCell = document.createElement('div');
    calendarCell.classList.add('calendar-cell');

    if (i >= firstDayOfWeek && dayCount <= daysInMonth) {
      calendarCell.textContent = dayCount;

      if (year === now.getFullYear() && month === now.getMonth() && dayCount === day) {
        calendarCell.classList.add('today');
      }

      dayCount++;
    } else {
      // Display numbers for previous and next months in grey color
      if (i < firstDayOfWeek) {
        calendarCell.textContent = new Date(year, month - 1, i - firstDayOfWeek + 1).getDate();
        calendarCell.classList.add('other-month');
      } else {
        calendarCell.textContent = new Date(year, month + 1, i - daysInMonth - firstDayOfWeek + 1).getDate();
        calendarCell.classList.add('other-month');
      }
    }

    calendarTable.appendChild(calendarCell);
  }
}

// Initial call to set the date and time
updateCalendar();

// Update the calendar every second
setInterval(updateCalendar, 10000);




    // Initial call to set the calendar
    updateCalendar();

    // Update the calendar when the page loads
    window.addEventListener('load', updateCalendar);

    // Update the calendar when the window is resized
    window.addEventListener('resize', updateCalendar);

    // Update the calendar when the user scrolls
    window.addEventListener('scroll', function () {
      const scrollY = window.scrollY;

      // Check if the container should be visible or hidden
      if (scrollY >= containerTop) {
        datetimeContainer.style.opacity = '1'; // Make it visible
      } else {
        datetimeContainer.style.opacity = '0'; // Make it invisible
      }
    });


    document.addEventListener('DOMContentLoaded', function () {
      const newsBoxes = document.querySelectorAll('.news-box');
      const prevPageButton = document.getElementById('prev-page');
      const nextPageButton = document.getElementById('next-page');
      let currentPage = 0;

      function hideNewsBox(newsBox) {
        newsBox.style.opacity = '0'; // Hide the news box by setting opacity to 0
      }

      function showNewsBox(newsBox, newsData) {
        newsBox.style.opacity = '1'; // Show the news box by setting opacity to 1
      }

      function fillNewsItems() {
        for (let i = 0; i < 3; i++) {
          const currentNewsData = newsData[currentPage + i];
          const newsBox = newsBoxes[i];

          if (currentNewsData) {
            // Set the content of the news box using the template literal
            newsBox.innerHTML = `
                <a href="${currentNewsData.link}" class="news-box">
                    <img src="${currentNewsData.imageSrc}" alt="News" class="news-image">
                    <div class="news-content">
                        <h3 class="news-header">${currentNewsData.title}</h3>
                        <p class="news-date">${currentNewsData.date}</p>
                        <p class="news-description">${currentNewsData.description}</p>
                    </div>
                </a>
            `;
            showNewsBox(newsBox, currentNewsData);
          } else {
            hideNewsBox(newsBox);
          }
        }

        nextPageButton.disabled = currentPage + 3 >= newsData.length;
        prevPageButton.disabled = currentPage === 0;
      }

      fillNewsItems();

      nextPageButton.addEventListener('click', function () {
        if (currentPage + 3 < newsData.length) {
          currentPage += 3;
          fillNewsItems();
        }
      });

      prevPageButton.addEventListener('click', function () {
        if (currentPage > 0) {
          currentPage -= 3;
          fillNewsItems();
        }
      });
    });
  </script>
</body>

</html>